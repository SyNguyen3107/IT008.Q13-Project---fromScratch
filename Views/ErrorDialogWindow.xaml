<Window x:Class="EasyFlips.Views.ErrorDialogWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:gif="http://wpfanimatedgif.codeplex.com"
        Title="Login Error"
        Height="Auto" Width="380"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="Transparent"
        WindowStyle="None"
        AllowsTransparency="True"
        SizeToContent="Height">

    <Border CornerRadius="16"
            BorderThickness="0">
        <Border.Background>
            <SolidColorBrush Color="#181A20"/>
        </Border.Background>

        <Border.Effect>
            <DropShadowEffect Color="Black" BlurRadius="25" ShadowDepth="5" Opacity="0.5"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Border Grid.Row="0" 
                    Background="#f75555" 
                    Height="6" 
                    CornerRadius="16,16,0,0"
                    VerticalAlignment="Top"/>

            <StackPanel Grid.Row="1" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="25,20,25,10">
                <TextBlock Text="OOPS!" 
                           FontSize="22" 
                           FontWeight="Bold" 
                           Foreground="#f75555"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,15"/>

                <Image Width="90" Height="90"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,20"
                       gif:ImageBehavior.AnimatedSource="pack://application:,,,/Resources/fail.gif">
                    <Image.Effect>
                        <DropShadowEffect Color="#FF4757" BlurRadius="15" ShadowDepth="0" Opacity="0.3"/>
                    </Image.Effect>
                </Image>

                <TextBlock x:Name="ErrorMessageText"
                           FontSize="14" 
                           FontWeight="Normal"
                           Foreground="#E0E0E0"
                           TextAlignment="Center"
                           TextWrapping="Wrap"
                           MaxWidth="320"
                           LineHeight="20"
                           Margin="0,0,0,10"/>
            </StackPanel>

            <Button Grid.Row="2"
                    Content="CLOSE"
                    Click="CloseButton_Click"
                    FontSize="14" FontWeight="Bold"
                    Foreground="White"
                    Height="45" Width="140"
                    Margin="0,0,0,25"
                    HorizontalAlignment="Center"
                    Cursor="Hand"
                    BorderThickness="0">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="btnBorder" 
                                Background="#f75555" 
                                CornerRadius="22.5">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="btnBorder" Property="Background" Value="#FF6B6B"/>
                                <Setter Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#FF4757" BlurRadius="10" ShadowDepth="0" Opacity="0.6"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="btnBorder" Property="Background" Value="#E03E4E"/>
                                <Setter TargetName="btnBorder" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="0.98" ScaleY="0.98" CenterX="70" CenterY="22.5"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Button.Template>
            </Button>
        </Grid>
    </Border>
</Window>